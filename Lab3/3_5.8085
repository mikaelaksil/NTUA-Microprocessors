	MVI A,0Eh		;μασκα διακοπων
	SIM
	LXI H,0			;συσσωρευτης δεδομενων
	MVI C,64d		;64 (10) στον μετρητη δεδομενων
	EI				;ενεργοποιηση διακοπων
ADDR:				;αναμονη δεδομενων
	MVI A,C
	CPI 0
	JNZ ADDR		;ελεγχος εισοδου ολων των δεδομενων
	DI				;απενεργοποιηση διακοπων
	DAD H			;3 φορες προσθεση του H-L στον εαυτο του για ολισθηση 3 φορες αριστερα
	DAD H
	DAD H
	
	HLT


002C: JMP RST6.5

RST6.5:
	PUSH PSW
	
	MOV A,C
	ANI 00000001b	;00000001 δυαδικο για το LSB
	JPO GET4MSB		;ελεγχος αν λαβαμε τα LSB η τα MSB του δεδομενου
	IN PORT_IN		;εισοδος των 4 LSB του δεδομενου
	ANI 00001111b	       ;00001111 δυαδ για τα 4 LSB της πορτας
	MOV B,A			;προσωρινη αποθηκευση μεχρι να λαβουμε τα MSB του δεδομενου
	JMP GOT4LSB		;επιστροφη στο προγραμμα μεχρι να ληφθουν τα MSB του δεδομενου
GET4MSB:			;επεξεργασια των MSB του δεδομενου
	IN PORT_IN		;εισοδος των 4 MSB του δεδομενου
	ANI 00001111b
	RLC				;4 φορες ολισθηση για να τοποθετηθει το τμημα δεδ στα MSB
	RLC				;
	RLC				;
	RLC				;
	ORA B			;­ενωση με τα LSB του δεδομενου
	
	MVI D,0
	MVI E,A
	DAD D			;προσθεση δεδομενων
	DCR C			;μειωση μετρητη
GOT4LSB:
	POP PSW
	EI
	RET
